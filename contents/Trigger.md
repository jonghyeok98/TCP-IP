# 레벨 트리거와 엣지 트리거

<br>

### 레벨 트리거
 - 입력버퍼에 남아있는 데이터에 대해서 이벤트가 발생한다
 - 입력버퍼의 state가 1일 때 계속해서 이벤트 발생
 - 연결 요청 이후에 한 번에 응답할 수 있는 경우에 사용

<br>

### 엣지 트리거
 - 입력버퍼에 남아있는 데이터에 대해서 이벤트가 발생하지 않는다
 - 입력버퍼의 state가 0에서 1로 변경될 때만 이벤트 발생
 - 세밀한 컨트롤을 요구하는 경우에 사용
 - 데이터의 분량에 따라서 모든 데이터를 읽어들이지 못할 수도 있기 때문에 I/O로 인한 지연이 발생할 수 있다
 
<br>

### ***따라서 엣지 트리거에서는 non-blocking I/O 소켓을 사용해야한다***

<br>

```c
#include<error.h>

int flag=fcntl(fd, F_GETFL, 0);
fcntl(fd, F_SETFL, flag|O_NONBLOCK);
// 기존 속성을 유지하되 I/O NONBLOCKING 속성 추가
```

<br>

### 결론
- 가능하면 버퍼에 있는 데이터를 한번에 읽어들이는 것이 좋다
- 서버측에서의 컨트롤 요소가 많은 경우 엣지 트리거가 유리하다
- 서버의 역할이 상대적으로 단순하고 데이터 송수신의 상황이 다양하지 않다면 레벨 트리거 방식을 선택할만하다
- 데이터가 계속해서 많이 들어와 이벤트가 많이 발생하는 경우 엣지 트리거의 성능이 더 좋다